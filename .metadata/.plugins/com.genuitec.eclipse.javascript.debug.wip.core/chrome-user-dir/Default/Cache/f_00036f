function retryFetchXML(e,t,n,r,i){if(""===i.statusText){var o=VAST_VMAP_XHROptions.XMLHttpRequest();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?null!==o.responseXML?n(o.responseXML,t):r(o,t):404===o.status?(o.errorCode="401",r(o,t)):r(o,t))},o.open("GET",e,!0),VAST_VMAP_XHROptions.onBeforeSend(e,t,o),o.withCredentials=!1,o.send(null)}else"OK"!==i.statusText?(i.errorCode="401",r(i,t)):r(i,t)}function fetchXML(e,t,n,r){var i=VAST_VMAP_XHROptions.XMLHttpRequest();i.onreadystatechange=function(){4===i.readyState&&(200===i.status&&null!==i.responseXML?n(i.responseXML,t):retryFetchXML(e,t,n,r,i))},i.open("GET",e,!0),VAST_VMAP_XHROptions.onBeforeSend(e,t,i),i.send(null)}function queryVAST(e,t,n,r){var i="Reached abort limit of ("+VAST_VMAP_XHROptions.defaultVASTAbortLimit+") wrappers.";n=n||function(){};var o=(!r&&0===VAST_VMAP_XHROptions.defaultVASTAbortLimit||r&&0===r.abortLimit)&&(n(new Error(i))||!0);o&&setTimeout(function(){"undefined"==typeof buster&&("warn"in console?console.warn(i):console.log(i))},0);return void(o||fetchXML(e,null,function(e){try{new VASTAds(e,t,n,r)}catch(i){console.error(i.toString());for(var o=i.stack.split(/\n/),a=0;a<o.length;a++){var s=o[a];s=s.replace("[arguments not available]",""),s=s.replace(/http:\/\/.*?resources\//,""),console.debug("	"+s)}i&&void 0!==i&&i.errorCode&&void 0!==i.errorCode||(i.errorCode="403"),n(i,r)}},function(t){console.error("Failed to load VAST from '"+e+"':",t),t&&void 0!==t&&t.errorCode&&void 0!==t.errorCode||(t.errorCode="100"),n(t,r)}))}function TrackingEvents(e,t){var n;if(this.events={},this.ad=t,null!==e){if(t.impressions.length)for(n=0;n<t.impressions.length;n++)this.addImpressionTracking(t.impressions[n]);if(t.errors.length)for(n=0;n<t.errors.length;n++)this.addErrorTracking(t.errors[n]);if("TrackingEvents"!==e.tagName){if(e=e.getElementsByTagName("TrackingEvents"),1!==e.length)return;e=e.item(0)}var r=e.getElementsByTagName("Tracking");for(n=0;n<r.length;n++){var i=r[n].getAttribute("event");if(i){var o=null;"progress"===i&&(o=r[n].getAttribute("offset"),i+="-"+o),this.events[i]=this.events[i]||[];var a={url:r[n].textContent.replace(/\s/g,""),offset:o,event:i};this.events[i].push(a)}}}}function VMAP(e,t,n){this.breaks=[];var r=this;fetchXML(e,null,function(e){for(var i=e.getElementsByTagNameNS(VMAPNS,"AdBreak"),o=[],a=0;a<i.length;a++){var s=i.item(a),u=s.getAttribute("timeOffset");if(0!==u.indexOf("#")){var c={ad:null,breakId:s.getAttribute("breakId"),tracking:new TrackingEvents(s,null),position:u},l=t.bind(r,r.breaks.length,u),d=s.getElementsByTagNameNS(VMAPNS,"VASTData");if(d)c.ad=new VASTAds(d.item(0).getElementByTagName(null,"VAST").item(0),l);else{var p=s.getElementsByTagNameNS(VMAPNS,"AdTagURI");if(!p){console.error("No supported ad target for break #"+a);continue}var f;!function(e){f=function(t){e.ad=t,null!==t&&l(t)}}(c),queryVAST(p.item(0).textContent.replace(/\s/g,""),f)}r.breaks.push(c),o.push(c.position)}}"function"==typeof n&&n(o)},function(t,r){console.error("Failed to load VMAP from '"+e+"':",t),n([])})}function VASTAds(e,t,n,r){this.ads=[],this.onAdsAvailable=t,this.onAdsError=n,this.onReceivedErrorCounter=0;var i={};i.errorCode="101";var o=e.getElementsByTagNameNS("*","Ad"),a=this;if(0===o.length)return void n();for(var s=function(e,t){return a.onReceivedErrorCounter++,a.onReceivedErrorCounter===o.length?void n(e,t):void 0},u=0;u<o.length;u++){var c=new VASTAd(this,o.item(u),r||null);if(c.isEmpty())s(i,r);else if(this.ads.push(c),!c.hasData()||c.hasSequence()&&!c.isNumber(1)){var l=o.item(u).getElementsByTagName("Wrapper").item(0),d=l.getElementsByTagName("VASTAdTagURI");if(0===d.length){s(i,r);continue}d=d.item(0).textContent.replace(/\s/g,"");var p,f="true"===l.getAttribute("allowMultipleAds");!function(e,t,n){p=function(r){if(e.onLoaded(r,t),n.onAdsAvailable){var i=n.onAdsAvailable;n.onAdsAvailable=null,i.call(n,n)}}}(c,f,a),queryVAST(d,p,s,c)}else if(t){var h=this.onAdsAvailable;this.onAdsAvailable=null,h.call(this,this)}}}function VASTAd(e,t,n,r){this.vast=e,this.pod=e,this.parentAd=n,this.onAdAvailable=r,this.abortLimit=n?n.abortLimit>0?n.abortLimit-1:n.abortLimit:VAST_VMAP_XHROptions.defaultVASTAbortLimit,this.sequence=null,this.hasContent=!0,this.loaded=!0,this.linear=null,this.companions=[],this.companionsRequired="none",this.nonlinears=[],this.nonlinearsTracking=null,this.errors=[],this.impressions=[],this.extensions=[],this.currentPodAd=this,this.sentError=!1,this.sentImpression=!1,this.properties={};var i,o;if(null!==this.parentAd){var a=this.parentAd;if(this.companionsRequired=a.companionsRequired,this.linear=a.linear?a.linear.copy(this):null,a.companions.length)for(i=0;i<a.companions.length;i++)this.companions.push(a.companions[i].copy(this));if(a.extensions.length)for(i=0;i<a.extensions.length;i++)this.extensions.push(a.extensions[i]);if(a.nonlinears.length)for(i=0;i<a.nonlinears.length;i++)this.companions.push(a.nonlinears[i].copy(this));null!==a.nonlinearsTracking&&(this.nonlinearsTracking=a.nonlinearsTracking.copy(this));for(o in a.properties)a.properties.hasOwnProperty(o)&&(this.properties[o]=a.properties[o])}null===this.nonlinearsTracking&&(this.nonlinearsTracking=new TrackingEvents(null,this)),t.hasAttribute("sequence")&&(this.sequence=parseInt(t.getAttribute("sequence"),10));var s=t.getElementsByTagName("Extensions");if(0!==s.length){var u=s[0].getElementsByTagName("Extension");if(u.length)for(i=0;i<u.length;i++)if("com.rubiconproject.data"===u[i].getAttribute("name")&&"Value"===u[i].getAttribute("type")){var c=u[i].getElementsByTagName("ImpressionId");if(c.length){var l=c[0].childNodes.length&&c[0].childNodes[0].nodeValue;this.extensions.push({impressionId:l})}}}var d=t.getElementsByTagName("InLine");if(0===d.length&&(this.loaded=!1,d=t.getElementsByTagName("Wrapper"),0===d.length))return void(this.hasContent=!1);d=d.item(0);for(var p=d.firstChild;null!==p;){if(1===p.nodeType)switch(p.tagName){case"Creatives":case"InLine":case"Wrapper":case"Impression":case"VASTAdTagURI":case"Error":break;default:this.properties[p.tagName]=p.textContent.replace(/^\s*|\s*$/g,"")}p=p.nextSibling}this.parentAd&&this.parentAd.impressions.length&&(this.impressions=this.parentAd.impressions);var f=d.getElementsByTagName("Impression");for(i=0;i<f.length;i++)this.impressions.push(f.item(i).textContent.replace(/\s/g,""));this.parentAd&&this.parentAd.errors.length&&(this.errors=this.parentAd.errors);var h=d.getElementsByTagName("Error");for(i=0;i<h.length;i++)this.errors.push(h.item(i).textContent.replace(/\s/g,""));var v=d.getElementsByTagName("Creatives");if(0!==v.length)for(v=v.item(0).getElementsByTagName("Creative"),i=0;i<v.length;i++){for(var m=v.item(i).firstChild;null!==m&&3===m.nodeType;)m=m.nextSibling;if(null!==m){var g;switch(m.tagName){case"Linear":g=new VASTLinear(this,m),this.linear?this.linear.augment(g):this.linear=g;break;case"CompanionAds":m.hasAttribute("required")&&(this.companionsRequired=m.getAttribute("required"));case"NonLinearAds":var y=m.tagName.replace("Ads",""),b="Companion"===y?VASTCompanion:VASTNonLinear,A="Companion"===y?this.companions:this.nonlinears;if("NonLinear"===y){var _=new TrackingEvents(m,this);this.nonlinearsTracking.augment(_)}for(var w=A.length,T=m.getElementsByTagName(y),S=0;S<T.length;S++){for(g=new b(this,T.item(S)),o=0;w>o;o++){var k=A[o],E=k.attribute("id",g.attribute("id"))===g.attribute("id",k.attribute("id")),V=k.attribute("width",g.attribute("width"))===g.attribute("width",k.attribute("width")),x=k.attribute("height",g.attribute("height"))===g.attribute("height",k.attribute("height")),C=void 0!==k.attribute("id")&&void 0!==g.attribute("id"),P=void 0!==k.attribute("width")&&void 0!==g.attribute("width"),j=void 0!==k.attribute("height")&&void 0!==g.attribute("height");if(E&&V&&x&&(C||P||j)){k.augment(g),g=null;break}}null!==g&&A.push(g)}}}}}function VASTCreative(e,t){this.root=t,this.clickThrough=null,"NonLinear"===t.tagName&&(t=t.parentNode),this.tracking=new TrackingEvents(t,e)}function VASTLinear(e,t){VASTCreative.call(this,e,t),this.mediaFiles=[],this.clickThrough=null,this.duration=null,this.adParameters=null,this.icons=[];var n,r=t.getElementsByTagName("VideoClicks");if(r.length){r=r.item(0);var i=r.getElementsByTagName("ClickThrough");for(i.length&&(this.clickThrough=i.item(0).textContent.replace(/\s/g,"")),i=r.getElementsByTagName("ClickTracking"),n=0;n<i.length;n++)this.tracking.addClickTracking(i.item(n).textContent.replace(/\s/g,""))}var o=t.getElementsByTagName("Duration");o.length&&(this.duration=this.timecodeFromString(o.item(0).textContent.replace(/\s/g,"")));var a=t.getElementsByTagName("AdParameters");a.length&&(this.adParameters=a.item(0).textContent);var s=t.getElementsByTagName("MediaFiles");if(s.length){for(s=s.item(0).getElementsByTagName("MediaFile"),n=0;n<s.length;n++){for(var u=s.item(n),c={},l=0;l<u.attributes.length;l++)c[u.attributes[l].name]=u.attributes[l].value;c.src=s.item(n).textContent.replace(/\s/g,""),this.mediaFiles.push(c)}var d=t.getElementsByTagName("Icons");if(void 0!=d&&d.length>0)for(d=d.item(0).getElementsByTagName("Icon"),n=0;n<d.length;n++){var p=d.item(n),f={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};if(f.program=p.getAttribute("program"),f.height=void 0!=p.getAttribute("height")?parseInt(p.getAttribute("height"),10):0,f.width=void 0!=p.getAttribute("width")?parseInt(p.getAttribute("width"),10):0,f.xPosition=this.parseXPosition(p.getAttribute("xPosition")),f.yPosition=this.parseYPosition(p.getAttribute("yPosition")),f.apiFramework=p.getAttribute("apiFramework"),f.offset=this.parseDuration(p.getAttribute("offset")),f.duration=this.parseDuration(p.getAttribute("duration")),htmlElement=p.getElementsByTagName("HTMLResource"),void 0!=htmlElement&&htmlElement.length>0&&(f.type=void 0==htmlElement[0].getAttribute("creativeType")?"text/html":htmlElement[0].getAttribute("creativeType"),f.htmlResource=this.parseNodeText(htmlElement[0])),iframeElement=p.getElementsByTagName("IFrameResource"),void 0!=iframeElement&&iframeElement.length>0&&(f.type=void 0==iframeElement[0].getAttribute("creativeType")?"0":iframeElement[0].getAttribute("creativeType"),f.iframeResource=this.parseNodeText(iframeElement[0])),staticElement=p.getElementsByTagName("StaticResource"),void 0!=staticElement&&staticElement.length>0&&(f.type=void 0!=staticElement[0]&&void 0==staticElement[0].getAttribute("creativeType")?"0":staticElement[0].getAttribute("creativeType"),f.staticResource=this.parseNodeText(staticElement[0])),iconClickElements=p.getElementsByTagName("IconClicks"),iconClickElements&&iconClickElements.length>0){iconClickThroughElem=iconClickElements[0].getElementsByTagName("IconClickThrough"),f.iconClickThroughURLTemplate=this.parseNodeText(iconClickThroughElem[0]),iconClickTrackingElements=iconClickElements[0].getElementsByTagName("IconClickTracking");for(var h=0;h<iconClickTrackingElements.length;h++)f.iconClickTrackingURLTemplates.push(this.parseNodeText(iconClickTrackingElements[h]))}iconViewTrackingElement=p.getElementsByTagName("IconViewTracking"),f.iconViewTrackingURLTemplate=this.parseNodeText(iconViewTrackingElement[0]),this.icons.push(f)}}}function VASTStatic(e,t){VASTCreative.call(this,e,t),this.resources={iframe:null,html:null,images:{}};var n;n=t.getElementsByTagName("IFrameResource"),n.length>0&&(this.resources.iframe=n.item(0).textContent.replace(/\s/g,"")),n=t.getElementsByTagName("HTMLResource"),n.length>0&&(this.resources.html=n.item(0).textContent.replace(/\s/g,"")),n=t.getElementsByTagName("StaticResource");for(var r=0;r<n.length;r++)this.resources.images[n.item(r).getAttribute("creativeType")]=n.item(r).textContent.replace(/\s/g,"")}function VASTCompanion(e,t){VASTStatic.call(this,e,t),this.altText="",VASTStatic.prototype.extractClicks.call(this,"Companion");var n=t.getElementsByTagName("AltText");n.length&&(this.altText=n.item(0).textContent.replace(/\s/g,""))}function VASTNonLinear(e,t){VASTStatic.call(this,e,t),this.tracking=e.nonlinearsTracking,VASTStatic.prototype.extractClicks.call(this,"NonLinear")}var __IASVANS=function(e){var t={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(e){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(a.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+e)].join(""))}catch(t){n.report("smp",t)}},sendUrlRequest:function(e,t){var n,r;if(e){n=this.getWindow();try{r=new n.XMLHttpRequest,t&&(r.onreadystatechange=t),r.open("GET",e),r.send()}catch(i){}}},getWindow:function(){return window},getDocument:function(){return document},generateUID:function(){var e,t="";try{for(e=0;8>e;e++)t=[t,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(n){}return t},noop:function(){}},n=function(){var e={};return{report:function(n,r){if(!e[n])try{e[n]=!0,t.sendUrlRequest(["//fw.adsafeprotected.com/jsdiagnostic?code:vans-js_",encodeURIComponent(a.getPartnerId()),"_",n,"&err:",encodeURIComponent(r.message)].join(""))}catch(i){}}}}(),r=function(){var e,r=!1,i=function(e){return e==a()&&(r=!0,o.flushUnsentEvents()),r?"jv3":null},a=function(){return e||(e=t.generateUID()),e};return{getVideoId:a,setNodeInterface:function(e){var r,o,s=a();try{r="IASid"+s,o="blockAd"+s,e.className+=" integral-vid-"+s,e[o]=t.noop,e[r]=i,e.getVersion=function(){return"3.2.1"}}catch(u){n.report("sni",u)}},isEstablished:function(){return r},resetHandshake:function(){r=!1}}}(),i=function(){var e,i=function(){var e=function(e){return"undefined"!=typeof e},t=function(){var t="u";try{e(window.opera)&&e(window.opera.buildNumber)?t="o":e(window.mozInnerScreenY)?t="g":e(window.chrome)&&e(window.chrome.csi)?t="c":e(window.msWriteProfilerMark)&&e(window.crypto)?t="e":e(window.attachEvent)||e(window.msCrypto)?t="i":e(window.WebKitPoint)&&(t="w")}catch(n){}return t}(),n=function(){var t=function(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];""!==r&&"null"!==r&&"undefined"!==r&&null!==r&&e(r)||delete t[n]}return t},n=function(t){var n,r,i={};for(r in t)t.hasOwnProperty(r)&&(n=t[r],e(i[n])?i[n]+=r:i[n]=r);t={};for(r in i)i.hasOwnProperty(r)&&(n=i[r],t[n]=r);return t};return function(){var r=function(){var t={g:"",q:""};try{t.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(n){var r,i=n.message,i=i.substring(i.lastIndexOf("<")+1,i.lastIndexOf(">"));if((r=e(i))&&(r=!1,e(window.navigator)&&e(window.navigator.userAgent))){var o=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==o&&2==o.length&&(o=o[1].split("."),3==parseInt(o[0],10)&&6>=parseInt(o[1],10)&&(3==o.length?13>=parseInt(o[2],10)&&(r=!0):r=!0))}r&&(t.g=i)}return t},i={};try{i.a=encodeURIComponent(top.location.href)}catch(o){}try{i.b=encodeURIComponent(parent.location.href)}catch(a){}if(window!=top){try{i.c=encodeURIComponent(parent.document.referrer)}catch(s){}try{i.e=encodeURIComponent(window.document.referrer)}catch(u){}}try{i.d=encodeURIComponent(window.location.href)}catch(c){}try{var l=r();i.g=encodeURIComponent(l.g),i.q=encodeURIComponent(l.q)}catch(d){}var p,i=t(i),i=n(i),r=[];for(p in i)i.hasOwnProperty(p)&&r.push({key:p,val:i[p]});return r.sort(function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0}),r}()}();return{br:t,urls:n}},a=function(e,t,i){var o=["//fw.adsafeprotected.com/db2/video/",t,"/",i,"/skeleton.js?videoId=",r.getVideoId()].join("");t=function(e){o=[o,"&adsafe_url=",e.val,"&adsafe_type=",e.key].join("")};try{e.urls.forEach(t),o=[o,"&adsafe_jsinfo=br:",e.br].join("")}catch(a){n.report("bvu",a)}return o},s=function(){if(4==this.readyState)if(o.sendPerfSample(40),200==this.status)try{e("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(t){n.report("ba",t)}else n.report("blk_url_req_err",{message:this.status})};return{init:function(n,r,u){var c=i();o.sendPerfSample(30),n=a(c,n,r),e=u,t.sendUrlRequest(n,s)}}}(),o=function(){var e=[],i=function(i){if(r.isEstablished())try{t.getWindow().postMessage(JSON.stringify(i),"*")}catch(o){n.report("dm",o)}else try{e.push(i)}catch(a){n.report("cm",a)}},o=function(e,o){try{i({messageType:e,id:r.getVideoId(),time:t.now(),partner:a.getPartnerId(),eventData:o})}catch(s){n.report("se",s)}};return{sendEvent:o,flushUnsentEvents:function(){try{e.forEach(i)}catch(t){n.report("fue",t)}},sendPerfSample:function(e){o("PerfCheckpoint",{type:"vans",code:e,timestamp:t.now()})}}}(),a=function(){var a,s=function(t,i){var o,a=e||"fw.adsafeprotected.com",s=function(e){var t="";return Object.keys(e).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(t+="&"+n+"="+e[n])}),t};try{o=["//",a,t,"?videoId=",r.getVideoId(),s(i)].join("")}catch(u){n.report("bsurl",u)}return o},u=function(e,n){var r,i=t.getDocument();try{if(r=i.createElement("script"),r.src=s(e,n),i.body)i.body.insertBefore(r,i.body.firstChild);else if(i.head)i.head.appendChild(r);else{if(!i.documentElement)throw Error();i.documentElement.appendChild(r)}}catch(o){t.sendMonitoringPixel("inj_err")}};return{initCM:function(e,i){if(!e.partner)throw Error("missing partnerId");o.sendPerfSample(20),a=e.partner;try{if(!e.anId)throw Error("missing anId");t.sendMonitoringPixel("cminit"),r.setNodeInterface(i),u("/jsvid",e)}catch(s){n.report("icm",s)}},initFW:function(e,s,c){var l;if(!e.partner)throw Error("missing partnerId");o.sendPerfSample(20),a=e.partner;try{if(!e.advEntityId||!e.pubEntityId)throw Error("missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);t.sendMonitoringPixel("fwinit"),c&&i.init(e.advEntityId,e.pubEntityId,c),l="/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js",r.setNodeInterface(s),u(l,e)}catch(d){n.report("ifw",d)}},getPartnerId:function(){return a}}}();return o.sendPerfSample(10),{initFW:a.initFW,initCM:a.initCM,sendEvent:o.sendEvent}},VMAPNS="http://www.iab.net/vmap-1.0",VAST_VMAP_XHROptions={XMLHttpRequest:function(){return new XMLHttpRequest},onBeforeSend:function(e,t,n){},defaultVASTAbortLimit:-1},VASTAds,VASTAd,VASTLinear,VASTNonLinear,VASTCompanion;TrackingEvents.prototype.copy=function(e){var t=Object.create(TrackingEvents.prototype);t.events={};for(var n in this.events)this.events.hasOwnProperty(n)&&(t.events[n]=[].concat(this.events[n]));return t.ad=e,t},TrackingEvents.prototype.finger=function(e){if("object"==typeof window&&"undefined"!=typeof Image&&"undefined"==typeof buster){var t=new Image;return void(t.src=e)}var n=VAST_VMAP_XHROptions.XMLHttpRequest();n.open("get",e,!0),VAST_VMAP_XHROptions.onBeforeSend(e,"tracking-pixel",n),n.send()},TrackingEvents.prototype.augment=function(e){for(var t in e.events)e.events.hasOwnProperty(t)&&(this.events[t]?this.events[t]=this.events[t].concat(e.events[t]):this.events[t]=e.events[t])},TrackingEvents.prototype.addClickTracking=function(e){var t={url:e,event:"click",offset:null};this.events.click?this.events.click.push(t):this.events.click=[t]},TrackingEvents.prototype.addImpressionTracking=function(e){if(e){var t={url:e,event:"impression",offset:null};this.events.impression?this.events.impression.push(t):this.events.impression=[t]}},TrackingEvents.prototype.addErrorTracking=function(e){if(e){var t={url:e,event:"error",offset:null};this.events.error?this.events.error.push(t):this.events.error=[t]}},TrackingEvents.prototype.getEventsOfTypes=function(e){var t=[],n=e.indexOf("progress")>-1;for(var r in this.events)this.events.hasOwnProperty(r)&&(e.indexOf(r)>-1||n&&0===r.indexOf("progress-"))&&(t=t.concat(this.events[r]));return t},TrackingEvents.prototype.track=function(e,t){if(this.events[e]&&0!==this.events[e].length){var n,r=[].concat(this.events[e]),i={};for(var o in t)t.hasOwnProperty(o)&&(i["["+o+"]"]=encodeURIComponent(t[o]));if("creativeView"===e){var a=this.ad;if(null!==a&&!a.hasSentImpression())for(a.impressionSent(),n=0;n<a.impressions.length;n++)r.push({url:a.impressions[n]})}var s=this;for(n=0;n<r.length;n++){for(var u=r[n],c=u.url,l=""+parseInt(99999999*Math.random(),10);8!==l.length;)l="0"+l;i["[CACHEBUSTING]"]=l;for(o in i)i.hasOwnProperty(o)&&(c=c.replace(o,i[o]));s.finger(c)}}},VMAP.prototype.onBreakStart=function(e){return this.breaks[e].tracking.track("breakStart"),this.breaks[e].ad},VMAP.prototype.onBreakEnd=function(e){this.breaks[e].tracking.track("breakEnd")},VASTAds.prototype.getAd=function(e){var t=null;if(e&&(t=this.getAdWithSequence(1),t&&!t.current().isEmpty()))return t.current();for(var n=0;n<this.ads.length;n++)if(!this.ads[n].hasSequence()&&!this.ads[n].current().isEmpty())return this.ads[n].current()},VASTAds.prototype.getAdWithSequence=function(e){for(var t=0;t<this.ads.length;t++)if(this.ads[t].isNumber(e))return this.ads[t];return null},VASTAd.prototype.getTag=function(e,t){return this.properties.hasOwnProperty(e)?this.properties[e]:t},VASTAd.prototype.onLoaded=function(e,t){this.pod=e,this.currentPodAd=e.getAd(t),this.currentPodAd.isEmpty()||(this.loaded=!0,this.onAdAvailable&&this.onAdAvailable.call(this,this))},VASTAd.prototype.hasSentImpression=function(){return this.sentImpression},VASTAd.prototype.impressionSent=function(){this.sentImpression=!0},VASTAd.prototype.hasSentError=function(){return this.sentError},VASTAd.prototype.errorSent=function(){this.sentError=!0},VASTAd.prototype.current=function(){return this.currentPodAd},VASTAd.prototype.isNumber=function(e){return this.sequence===e},VASTAd.prototype.hasSequence=function(){return null!==this.sequence},VASTAd.prototype.isEmpty=function(){return!this.hasContent},VASTAd.prototype.hasData=function(){return this.loaded},VASTAd.prototype.getNextAd=function(){return this.vast!==this.pod&&(this.currentPodAd=this.currentPodAd.getNextAd(),null!==this.currentPod)?this.currentPodAd.current():this.hasSequence()?this.vast.getAdWithSequence(this.sequence+1).current():null},VASTAd.prototype.getLinear=function(){return this.linear},VASTAd.prototype.getCompanions=function(){return this.companions},VASTAd.prototype.getCompanion=function(e){for(var t=0;t<this.companions.length;t++)if(this.companions[t].attribute("id")===e)return this.companions[t];return null},VASTAd.prototype.companionsRequired=function(){return this.companionsRequired},VASTAd.prototype.getNonLinears=function(){return this.nonlinears},VASTCreative.prototype.track=function(e,t,n){this.tracking.track(e,{CONTENTPLAYHEAD:this.timecodeToString(t),ASSETURI:n})},VASTCreative.prototype.timecodeToString=function(e){var t="0"+parseInt(e/3600,10),n="0"+parseInt(e%3600/60,10),r="0"+e%60,i=t+":"+n+":"+r;return i.replace(/(^|:|\.)0(\d{2})/g,"$1$2")},VASTCreative.prototype.timecodeFromString=function(e){return-1===e.indexOf(":")?e:3600*parseInt(e.substr(0,2),10)+60*parseInt(e.substr(3,2),10)+parseInt(e.substr(6,2),10)},VASTCreative.prototype.getClickThrough=function(){return this.clickThrough},VASTCreative.prototype.attribute=function(e,t){if(!this.root.hasAttribute(e))return t;var n=this.root.getAttribute(e);switch(e){case"skipoffset":case"duration":case"offset":case"minSuggestedDuration":n=this.timecodeFromString(n)}return n},VASTLinear.prototype=Object.create(VASTCreative.prototype),VASTLinear.prototype.parseDuration=function(e){return void 0==e||""==e?-1:!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):(durationComponents=e.split(":"),3!=durationComponents.length?-1:(secondsAndMS=durationComponents[2].split("."),seconds=parseInt(secondsAndMS[0],10),2==secondsAndMS.length&&(seconds+=parseFloat("0."+secondsAndMS[1])),minutes=parseInt(60*durationComponents[1],10),hours=parseInt(60*durationComponents[0]*60,10),isNaN(hours)||isNaN(minutes)||isNaN(seconds)||minutes>3600||seconds>60?-1:parseInt(hours,10)+parseInt(minutes,10)+parseInt(seconds,10)))},VASTLinear.prototype.parseXPosition=function(e){return["left","right"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},VASTLinear.prototype.parseYPosition=function(e){return["top","bottom"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},VASTLinear.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},VASTLinear.prototype.getDuration=function(){return this.duration},VASTLinear.prototype.copy=function(e){return new VASTLinear(e,this.root)},VASTLinear.prototype.augment=function(e){this.duration=e.duration||this.duration,this.adParameters=e.adParameters||this.adParameters,this.mediaFiles=e.mediaFiles.slice(0)||this.mediaFiles.slice(0),this.icons=e.icons||this.icons,this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough},VASTLinear.prototype.getAllMedias=function(){return this.mediaFiles},VASTLinear.prototype.getBestMedia=function(e){for(var t=Number.POSITIVE_INFINITY,n=-1,r=0;r<this.mediaFiles.length;r++){var i=this.mediaFiles[r],o=Math.sqrt(Math.pow(e.width-i.width,2)+Math.pow(e.height-i.height,2));if(t>o)t=o,n=r;else if(o===t){var a=this.mediaFiles[n],s=a.bitrate||a.maxBitrate,u=i.bitrate||i.maxBitrate;u&&!s?n=r:e.bitrate&&s&&u?Math.abs(u-e.bitrate)<Math.abs(s-e.bitrate)&&(n=r):u>s&&(n=r)}}return-1===n?null:this.mediaFiles[n]};var VAST_LINEAR_TRACKING_POINTS=["start","firstQuartile","midpoint","thirdQuartile","complete","progress","skip"];VASTLinear.prototype.getTrackingPoints=function(){var e=this.tracking.getEventsOfTypes(VAST_LINEAR_TRACKING_POINTS),t=[],n=null;"undefined"!=typeof this.duration&&this.duration&&(n=this.duration);for(var r=0;r<e.length;r++){var i,o={event:e[r].event,offset:null,percentOffset:null};switch(e[r].event){case"start":o.percentOffset="0%",o.offset=0;break;case"firstQuartile":o.percentOffset="25%",n&&(o.offset=.25*n);break;case"midpoint":o.percentOffset="50%",n&&(o.offset=.5*n);break;case"thirdQuartile":o.percentOffset="75%",n&&(o.offset=.75*n);break;case"complete":o.percentOffset="100%",n&&(o.offset=n);break;case"skip":i=this.attribute("skipoffset",0),-1===i.indexOf("%")?(o.offset=VASTCreative.prototype.timecodeFromString(i),n&&(o.percentOffset=o.offset/n*100+"%")):(o.percentOffset=i,n&&(o.offset=n*parseInt(o.percentOffset,10)/100));break;default:if(i=e[r].offset,!i)continue;"start"===i&&(i="0%"),"end"===i&&(i="100%"),-1===i.indexOf("%")?(o.offset=VASTCreative.prototype.timecodeFromString(i),n&&(o.percentOffset=o.offset/n*100+"%")):(o.percentOffset=i,n&&(o.offset=n*parseInt(o.percentOffset,10)/100))}t.push(o)}return t.sort(function(e,t){return e.offset&&t.offset?e.offset-t.offset:e.percentOffset&&t.percentOffset?parseInt(e.percentOffset,10)-parseInt(t.percentOffset,10):0}),t},VASTStatic.prototype=Object.create(VASTCreative.prototype),VASTStatic.prototype.augment=function(e){this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough,this.resources.iframe=e.resources.iframe||this.resources.iframe,this.resources.html=e.resources.html||this.resources.html;for(var t in e.resources.images)e.resources.images.hasOwnProperty(t)&&(this.resources.images[t]=e.resources.images[t])},VASTStatic.prototype.getAllResources=function(){return this.resources},VASTStatic.prototype.extractClicks=function(e){var t;t=this.root.getElementsByTagName(e+"ClickThrough"),t.length&&(this.clickThrough=t.item(0).textContent.replace(/\s/g,"")),t=this.root.getElementsByTagName(e+"ClickTracking"),t.length&&this.tracking.addClickTracking(t.item(0).textContent.replace(/\s/g,""))},VASTCompanion.prototype=Object.create(VASTStatic.prototype),VASTCompanion.prototype.copy=function(e){return new VASTCompanion(e,this.root)},VASTCompanion.prototype.augment=function(e){VASTStatic.prototype.augment.call(this,e),this.altText=e.altText||this.altText},VASTCompanion.prototype.getAltText=function(){return this.altText},VASTNonLinear.prototype=Object.create(VASTStatic.prototype),VASTNonLinear.prototype.augment=function(e){VASTStatic.prototype.augment.call(this,e)},VASTNonLinear.prototype.copy=function(e){return new VASTNonLinear(e,this.root)},function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){return e&&M(e,t,w)}function o(e,t){return P.call(e,t)||"object"==typeof e&&t in e&&null===l(e);
}function a(e){return O(Object(e))}function s(e){return function(t){return null==t?void 0:t[e]}}function u(e,t){return function(n,r){if(null==n)return n;if(!v(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function c(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}function l(e){return L(Object(e))}function d(e){var t=e?e.length:void 0;return y(t)&&(q(e)||_(e)||h(e))?r(t,String):null}function p(e,t){return t=null==t?T:t,!!t&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&t>e}function f(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||C;return e===n}function h(e){return m(e)&&P.call(e,"callee")&&(!I.call(e,"callee")||j.call(e)==S)}function v(e){return null!=e&&y(R(e))&&!g(e)}function m(e){return A(e)&&v(e)}function g(e){var t=b(e)?j.call(e):"";return t==k||t==E}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&T>=e}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function A(e){return!!e&&"object"==typeof e}function _(e){return"string"==typeof e||!q(e)&&A(e)&&j.call(e)==V}function w(e){var t=f(e);if(!t&&!v(e))return a(e);var n=d(e),r=!!n,i=n||[],s=i.length;for(var u in e)!o(e,u)||r&&("length"==u||p(u,s))||t&&"constructor"==u||i.push(u);return i}var T=9007199254740991,S="[object Arguments]",k="[object Function]",E="[object GeneratorFunction]",V="[object String]",x=/^(?:0|[1-9]\d*)$/,C=Object.prototype,P=C.hasOwnProperty,j=C.toString,I=C.propertyIsEnumerable,L=Object.getPrototypeOf,O=Object.keys,N=u(i),M=c(),R=s("length"),q=Array.isArray;t.exports=N},{}],3:[function(e,t,n){(function(r){function i(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function o(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function s(e,t){return i(t,function(t){return[t,e[t]]})}function u(e){return e&&e.Object===Object?e:null}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__=$t?$t(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if($t){var n=t[e];return n===qe?void 0:n}return Lt.call(t,e)?t[e]:void 0}function g(e){var t=this.__data__;return $t?void 0!==t[e]:Lt.call(t,e)}function y(e,t){var n=this.__data__;return n[e]=$t&&void 0===t?qe:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(){this.__data__=[]}function _(e){var t=this.__data__,n=B(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Ft.call(t,n,1),!0}function w(e){var t=this.__data__,n=B(t,e);return 0>n?void 0:t[n][1]}function T(e){return B(this.__data__,e)>-1}function S(e,t){var n=this.__data__,r=B(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(){this.__data__={hash:new f,map:new(Ht||b),string:new f}}function V(e){return ie(this,e)["delete"](e)}function x(e){return ie(this,e).get(e)}function C(e){return ie(this,e).has(e)}function P(e,t){return ie(this,e).set(e,t),this}function j(e){var t=-1,n=e?e.length:0;for(this.__data__=new k;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,qe),this}function L(e){return this.__data__.has(e)}function O(e){this.__data__=new b(e)}function N(){this.__data__=new b}function M(e){return this.__data__["delete"](e)}function R(e){return this.__data__.get(e)}function q(e){return this.__data__.has(e)}function F(e,t){var n=this.__data__;return n instanceof b&&n.__data__.length==Re&&(n=this.__data__=new k(n.__data__)),n.set(e,t),this}function B(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function U(e,t){t=pe(t,e)?[t]:Z(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[ge(t[n++])];return n&&n==r?e:void 0}function D(e,t){return Lt.call(e,t)||"object"==typeof e&&t in e&&null===se(e)}function H(e,t){return t in Object(e)}function W(e,t,n,r,i){return e===t?!0:null==e||null==t||!ke(e)&&!Ee(t)?e!==e&&t!==t:z(e,t,W,n,r,i)}function z(e,t,n,r,i,o){var a=nn(e),s=nn(t),u=We,l=We;a||(u=ue(e),u=u==He?Je:u),s||(l=ue(t),l=l==He?Je:l);var d=u==Je&&!c(e),p=l==Je&&!c(t),f=u==l;if(f&&!d)return o||(o=new O),a||Pe(e)?te(e,t,n,r,i,o):ne(e,t,u,n,r,i,o);if(!(i&Be)){var h=d&&Lt.call(e,"__wrapped__"),v=p&&Lt.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,g=v?t.value():t;return o||(o=new O),n(m,g,r,i,o)}}return f?(o||(o=new O),re(e,t,n,r,i,o)):!1}function X(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var d=new O;if(r)var p=r(c,l,u,e,t,d);if(!(void 0===p?W(l,c,r,Fe|Be,d):p))return!1}}return!0}function $(e){return"function"==typeof e?e:null==e?Oe:"object"==typeof e?nn(e)?Y(e[0],e[1]):G(e):Ne(e)}function Q(e){return Ut(Object(e))}function G(e){var t=oe(e);return 1==t.length&&t[0][2]?me(t[0][0],t[0][1]):function(n){return n===e||X(n,e,t)}}function Y(e,t){return pe(e)&&ve(t)?me(ge(e),t):function(n){var r=je(n,e);return void 0===r&&r===t?Ie(n,e):W(t,r,void 0,Fe|Be)}}function K(e){return function(t){return null==t?void 0:t[e]}}function J(e){return function(t){return U(t,e)}}function Z(e){return nn(e)?e:Me(e)}function ee(e){return function(t){var n=ue(t);return n==Ye?l(t):n==tt?p(t):s(t,e(t))}}function te(e,t,n,r,i,a){var s=i&Be,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e);if(l)return l==t;var d=-1,p=!0,f=i&Fe?new j:void 0;for(a.set(e,t);++d<u;){var h=e[d],v=t[d];if(r)var m=s?r(v,h,d,t,e,a):r(h,v,d,e,t,a);if(void 0!==m){if(m)continue;p=!1;break}if(f){if(!o(t,function(e,t){return f.has(t)||h!==e&&!n(h,e,r,i,a)?void 0:f.add(t)})){p=!1;break}}else if(h!==v&&!n(h,v,r,i,a)){p=!1;break}}return a["delete"](e),p}function ne(e,t,n,r,i,o,a){switch(n){case at:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ot:return!(e.byteLength!=t.byteLength||!r(new Rt(e),new Rt(t)));case ze:case Xe:return+e==+t;case $e:return e.name==t.name&&e.message==t.message;case Ke:return e!=+e?t!=+t:e==+t;case et:case nt:return e==t+"";case Ye:var s=l;case tt:var u=o&Be;if(s||(s=d),e.size!=t.size&&!u)return!1;var c=a.get(e);return c?c==t:(o|=Fe,a.set(e,t),te(s(e),s(t),r,i,o,a));case rt:if(en)return en.call(e)==en.call(t)}return!1}function re(e,t,n,r,i,o){var a=i&Be,s=Le(e),u=s.length,c=Le(t),l=c.length;if(u!=l&&!a)return!1;for(var d=u;d--;){var p=s[d];if(!(a?p in t:D(t,p)))return!1}var f=o.get(e);if(f)return f==t;var h=!0;o.set(e,t);for(var v=a;++d<u;){p=s[d];var m=e[p],g=t[p];if(r)var y=a?r(g,m,p,t,e,o):r(m,g,p,e,t,o);if(!(void 0===y?m===g||n(m,g,r,i,o):y)){h=!1;break}v||(v="constructor"==p)}if(h&&!v){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(h=!1)}return o["delete"](e),h}function ie(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e){for(var t=rn(e),n=t.length;n--;)t[n][2]=ve(t[n][1]);return t}function ae(e,t){var n=e[t];return Ve(n)?n:void 0}function se(e){return Bt(Object(e))}function ue(e){return Ot.call(e)}function ce(e,t,n){t=pe(t,e)?[t]:Z(t);for(var r,i=-1,o=t.length;++i<o;){var a=ge(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&Se(o)&&de(a,o)&&(nn(e)||xe(e)||Ae(e))}function le(e){var t=e?e.length:void 0;return Se(t)&&(nn(e)||xe(e)||Ae(e))?a(t,String):null}function de(e,t){return t=null==t?De:t,!!t&&("number"==typeof e||At.test(e))&&e>-1&&e%1==0&&t>e}function pe(e,t){if(nn(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Ce(e)?!0:gt.test(e)||!mt.test(e)||null!=t&&e in Object(t)}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function he(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||jt;return e===n}function ve(e){return e===e&&!ke(e)}function me(e,t){return function(n){return null==n?!1:n[e]===t&&(void 0!==t||e in Object(n))}}function ge(e){if("string"==typeof e||Ce(e))return e;var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}function ye(e){if(null!=e){try{return It.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function be(e,t){return e===t||e!==e&&t!==t}function Ae(e){return we(e)&&Lt.call(e,"callee")&&(!qt.call(e,"callee")||Ot.call(e)==He)}function _e(e){return null!=e&&Se(tn(e))&&!Te(e)}function we(e){return Ee(e)&&_e(e)}function Te(e){var t=ke(e)?Ot.call(e):"";return t==Qe||t==Ge}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&De>=e}function ke(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ee(e){return!!e&&"object"==typeof e}function Ve(e){if(!ke(e))return!1;var t=Te(e)||c(e)?Nt:bt;return t.test(ye(e))}function xe(e){return"string"==typeof e||!nn(e)&&Ee(e)&&Ot.call(e)==nt}function Ce(e){return"symbol"==typeof e||Ee(e)&&Ot.call(e)==rt}function Pe(e){return Ee(e)&&Se(e.length)&&!!_t[Ot.call(e)]}function je(e,t,n){var r=null==e?void 0:U(e,t);return void 0===r?n:r}function Ie(e,t){return null!=e&&ce(e,t,H)}function Le(e){var t=he(e);if(!t&&!_e(e))return Q(e);var n=le(e),r=!!n,i=n||[],o=i.length;for(var a in e)!D(e,a)||r&&("length"==a||de(a,o))||t&&"constructor"==a||i.push(a);return i}function Oe(e){return e}function Ne(e){return pe(e)?K(ge(e)):J(e)}var Me=e(5),Re=200,qe="__lodash_hash_undefined__",Fe=1,Be=2,Ue=1/0,De=9007199254740991,He="[object Arguments]",We="[object Array]",ze="[object Boolean]",Xe="[object Date]",$e="[object Error]",Qe="[object Function]",Ge="[object GeneratorFunction]",Ye="[object Map]",Ke="[object Number]",Je="[object Object]",Ze="[object Promise]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object WeakMap]",ot="[object ArrayBuffer]",at="[object DataView]",st="[object Float32Array]",ut="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",dt="[object Int32Array]",pt="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",vt="[object Uint32Array]",mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/,yt=/[\\^$.*+?()[\]{}|]/g,bt=/^\[object .+?Constructor\]$/,At=/^(?:0|[1-9]\d*)$/,_t={};_t[st]=_t[ut]=_t[ct]=_t[lt]=_t[dt]=_t[pt]=_t[ft]=_t[ht]=_t[vt]=!0,_t[He]=_t[We]=_t[ot]=_t[ze]=_t[at]=_t[Xe]=_t[$e]=_t[Qe]=_t[Ye]=_t[Ke]=_t[Je]=_t[et]=_t[tt]=_t[nt]=_t[it]=!1;var wt={"function":!0,object:!0},Tt=wt[typeof n]&&n&&!n.nodeType?n:void 0,St=wt[typeof t]&&t&&!t.nodeType?t:void 0,kt=u(Tt&&St&&"object"==typeof r&&r),Et=u(wt[typeof self]&&self),Vt=u(wt[typeof window]&&window),xt=u(wt[typeof this]&&this),Ct=kt||Vt!==(xt&&xt.window)&&Vt||Et||xt||Function("return this")(),Pt=Array.prototype,jt=Object.prototype,It=Function.prototype.toString,Lt=jt.hasOwnProperty,Ot=jt.toString,Nt=RegExp("^"+It.call(Lt).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Ct.Symbol,Rt=Ct.Uint8Array,qt=jt.propertyIsEnumerable,Ft=Pt.splice,Bt=Object.getPrototypeOf,Ut=Object.keys,Dt=ae(Ct,"DataView"),Ht=ae(Ct,"Map"),Wt=ae(Ct,"Promise"),zt=ae(Ct,"Set"),Xt=ae(Ct,"WeakMap"),$t=ae(Object,"create"),Qt=ye(Dt),Gt=ye(Ht),Yt=ye(Wt),Kt=ye(zt),Jt=ye(Xt),Zt=Mt?Mt.prototype:void 0,en=Zt?Zt.valueOf:void 0;f.prototype.clear=h,f.prototype["delete"]=v,f.prototype.get=m,f.prototype.has=g,f.prototype.set=y,b.prototype.clear=A,b.prototype["delete"]=_,b.prototype.get=w,b.prototype.has=T,b.prototype.set=S,k.prototype.clear=E,k.prototype["delete"]=V,k.prototype.get=x,k.prototype.has=C,k.prototype.set=P,j.prototype.add=j.prototype.push=I,j.prototype.has=L,O.prototype.clear=N,O.prototype["delete"]=M,O.prototype.get=R,O.prototype.has=q,O.prototype.set=F;var tn=K("length");(Dt&&ue(new Dt(new ArrayBuffer(1)))!=at||Ht&&ue(new Ht)!=Ye||Wt&&ue(Wt.resolve())!=Ze||zt&&ue(new zt)!=tt||Xt&&ue(new Xt)!=it)&&(ue=function(e){var t=Ot.call(e),n=t==Je?e.constructor:void 0,r=n?ye(n):void 0;if(r)switch(r){case Qt:return at;case Gt:return Ye;case Yt:return Ze;case Kt:return tt;case Jt:return it}return t});var nn=Array.isArray,rn=ee(Le);t.exports=$}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],4:[function(e,t,n){(function(e){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e){return e&&e.Object===Object?e:null}function o(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function a(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==C||(e[n]=C,o[i++]=n)}return o}function s(e){return w(e)?ue(e):{}}function u(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=ce(o-a,0),l=Array(u+c),d=!r;++s<u;)l[s]=t[s];for(;++i<a;)(d||o>i)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function c(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=ce(o-s,0),d=Array(l+c),p=!r;++i<l;)d[i]=e[i];for(var f=i;++u<c;)d[f+u]=t[u];for(;++a<s;)(p||o>i)&&(d[f+n[a]]=e[i++]);return d}function l(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function d(e,t,n){function r(){var t=this&&this!==oe&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&P,o=p(e);return r}function p(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=s(e.prototype),r=e.apply(n,t);return w(r)?r:n}}function f(e,t,n){function i(){for(var s=arguments.length,u=Array(s),c=s,l=y(i);c--;)u[c]=arguments[c];var d=3>s&&u[0]!==l&&u[s-1]!==l?[]:a(u,l);if(s-=d.length,n>s)return m(e,t,h,i.placeholder,void 0,u,d,void 0,void 0,n-s);var p=this&&this!==oe&&this instanceof i?o:e;return r(p,this,u)}var o=p(e);return i}function h(e,t,n,r,i,s,l,d,f,v){function g(){for(var E=arguments.length,V=Array(E),x=E;x--;)V[x]=arguments[x];if(T)var C=y(g),P=o(V,C);if(r&&(V=u(V,r,i,T)),s&&(V=c(V,s,l,T)),E-=P,T&&v>E){var j=a(V,C);return m(e,t,h,g.placeholder,n,V,j,d,f,v-E)}var I=_?n:this,L=w?I[e]:e;return E=V.length,d?V=A(V,d):S&&E>1&&V.reverse(),b&&E>f&&(V.length=f),this&&this!==oe&&this instanceof g&&(L=k||p(L)),L.apply(I,V)}var b=t&R,_=t&P,w=t&j,T=t&(L|O),S=t&q,k=w?void 0:p(e);return g}function v(e,t,n,i){function o(){for(var t=-1,u=arguments.length,c=-1,l=i.length,d=Array(l+u),p=this&&this!==oe&&this instanceof o?s:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++t];return r(p,a?n:this,d)}var a=t&P,s=p(e);return o}function m(e,t,n,r,i,o,a,s,u,c){var l=t&L,d=l?a:void 0,p=l?void 0:a,f=l?o:void 0,h=l?void 0:o;t|=l?N:M,t&=~(l?M:N),t&I||(t&=~(P|j));var v=n(e,t,i,f,d,h,p,s,u,c);return v.placeholder=r,v}function g(e,t,n,r,i,o,a,s){var u=t&j;if(!u&&"function"!=typeof e)throw new TypeError(x);var c=r?r.length:0;if(c||(t&=~(N|M),r=i=void 0),a=void 0===a?a:ce(E(a),0),s=void 0===s?s:E(s),c-=i?i.length:0,t&M){var l=r,p=i;r=i=void 0}var m=[e,t,n,r,i,l,p,o,a,s];if(e=m[0],t=m[1],n=m[2],r=m[3],i=m[4],s=m[9]=null==m[9]?u?0:e.length:ce(m[9]-c,0),!s&&t&(L|O)&&(t&=~(L|O)),t&&t!=P)g=t==L||t==O?f(e,t,s):t!=N&&t!=(P|N)||i.length?h.apply(void 0,m):v(e,t,n,r);else var g=d(e,t,n);return g}function y(e){var t=e;return t.placeholder}function b(e,t){return t=null==t?B:t,!!t&&("number"==typeof e||Y.test(e))&&e>-1&&e%1==0&&t>e}function A(e,t){for(var n=e.length,r=le(t.length,n),i=l(e);r--;){var o=t[r];e[r]=b(o,n)?i[o]:void 0}return e}function _(e){var t=w(e)?se.call(e):"";return t==H||t==W}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function T(e){return!!e&&"object"==typeof e}function S(e){return"symbol"==typeof e||T(e)&&se.call(e)==z}function k(e){if(!e)return 0===e?e:0;if(e=V(e),e===F||e===-F){var t=0>e?-1:1;return t*U}return e===e?e:0}function E(e){var t=k(e),n=t%1;return t===t?n?t-n:t:0}function V(e){if("number"==typeof e)return e;if(S(e))return D;if(w(e)){var t=_(e.valueOf)?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(X,"");var n=Q.test(e);return n||G.test(e)?J(e.slice(2),n?2:8):$.test(e)?D:+e}var x="Expected a function",C="__lodash_placeholder__",P=1,j=2,I=4,L=8,O=16,N=32,M=64,R=128,q=512,F=1/0,B=9007199254740991,U=1.7976931348623157e308,D=NaN,H="[object Function]",W="[object GeneratorFunction]",z="[object Symbol]",X=/^\s+|\s+$/g,$=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,G=/^0o[0-7]+$/i,Y=/^(?:0|[1-9]\d*)$/,K={"function":!0,object:!0},J=parseInt,Z=K[typeof n]&&n&&!n.nodeType?n:void 0,ee=K[typeof t]&&t&&!t.nodeType?t:void 0,te=i(Z&&ee&&"object"==typeof e&&e),ne=i(K[typeof self]&&self),re=i(K[typeof window]&&window),ie=i(K[typeof this]&&this),oe=te||re!==(ie&&ie.window)&&re||ne||ie||Function("return this")(),ae=Object.prototype,se=ae.toString,ue=Object.create,ce=Math.max,le=Math.min;t.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){(function(r){function i(e){return e&&e.Object===Object?e:null}function o(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function a(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(){this.__data__=ae?ae(null):{}}function u(e){return this.has(e)&&delete this.__data__[e]}function c(e){var t=this.__data__;if(ae){var n=t[e];return n===R?void 0:n}return te.call(t,e)?t[e]:void 0}function l(e){var t=this.__data__;return ae?void 0!==t[e]:te.call(t,e)}function d(e,t){var n=this.__data__;return n[e]=ae&&void 0===t?R:t,this}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=[]}function h(e){var t=this.__data__,n=S(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ie.call(t,n,1),!0}function v(e){var t=this.__data__,n=S(t,e);return 0>n?void 0:t[n][1]}function m(e){return S(this.__data__,e)>-1}function g(e,t){var n=this.__data__,r=S(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(){this.__data__={hash:new a,map:new(oe||p),string:new a}}function A(e){return k(this,e)["delete"](e)}function _(e){return k(this,e).get(e)}function w(e){return k(this,e).has(e)}function T(e,t){return k(this,e).set(e,t),this}function S(e,t){for(var n=e.length;n--;)if(P(e[n][0],t))return n;return-1}function k(e,t){var n=e.__data__;return V(t)?n["string"==typeof t?"string":"hash"]:n.map}function E(e,t){var n=e[t];return L(n)?n:void 0}function V(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function x(e){if(null!=e){try{return ee.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function C(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(M);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(C.Cache||y),n}function P(e,t){return e===t||e!==e&&t!==t}function j(e){var t=I(e)?ne.call(e):"";return t==q||t==F}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){if(!I(e))return!1;var t=j(e)||o(e)?re:H;return t.test(x(e))}function O(e){return null==e?"":N(e)}var N=e(6),M="Expected a function",R="__lodash_hash_undefined__",q="[object Function]",F="[object GeneratorFunction]",B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,U=/[\\^$.*+?()[\]{}|]/g,D=/\\(\\)?/g,H=/^\[object .+?Constructor\]$/,W={"function":!0,object:!0},z=W[typeof n]&&n&&!n.nodeType?n:void 0,X=W[typeof t]&&t&&!t.nodeType?t:void 0,$=i(z&&X&&"object"==typeof r&&r),Q=i(W[typeof self]&&self),G=i(W[typeof window]&&window),Y=i(W[typeof this]&&this),K=$||G!==(Y&&Y.window)&&G||Q||Y||Function("return this")(),J=Array.prototype,Z=Object.prototype,ee=Function.prototype.toString,te=Z.hasOwnProperty,ne=Z.toString,re=RegExp("^"+ee.call(te).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=J.splice,oe=E(K,"Map"),ae=E(Object,"create");a.prototype.clear=s,a.prototype["delete"]=u,a.prototype.get=c,a.prototype.has=l,a.prototype.set=d,p.prototype.clear=f,p.prototype["delete"]=h,p.prototype.get=v,p.prototype.has=m,p.prototype.set=g,y.prototype.clear=b,y.prototype["delete"]=A,y.prototype.get=_,y.prototype.has=w,y.prototype.set=T;var se=C(function(e){var t=[];return O(e).replace(B,function(e,n,r,i){t.push(r?i.replace(D,"$1"):n||e)}),t});C.Cache=y,t.exports=se}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{6:6}],6:[function(e,t,n){(function(e){function r(e){return e&&e.Object===Object?e:null}function i(e){if("string"==typeof e)return e;if(a(e))return _?_.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}function o(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||o(e)&&y.call(e)==u}var s=1/0,u="[object Symbol]",c={"function":!0,object:!0},l=c[typeof n]&&n&&!n.nodeType?n:void 0,d=c[typeof t]&&t&&!t.nodeType?t:void 0,p=r(l&&d&&"object"==typeof e&&e),f=r(c[typeof self]&&self),h=r(c[typeof window]&&window),v=r(c[typeof this]&&this),m=p||h!==(v&&v.window)&&h||f||v||Function("return this")(),g=Object.prototype,y=g.toString,b=m.Symbol,A=b?b.prototype:void 0,_=A?A.toString:void 0;t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function i(e){var t=e;return t.placeholder}var o=e(4),a=e(9),s="__lodash_placeholder__",u=1,c=32,l=a(function(e,t,n){var a=u;if(n.length){var s=r(n,i(l));a|=c}return o(e,a,t,n,s)});l.placeholder={},t.exports=l},{4:4,9:9}],8:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function i(e,t){var n=s(e)?r:o;return n(e,a(t,3))}var o=e(2),a=e(3),s=Array.isArray;t.exports=i},{2:2,3:3}],9:[function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t){if("function"!=typeof e)throw new TypeError(p);return t=E(void 0===t?e.length-1:l(t),0),function(){for(var n=arguments,i=-1,o=E(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=a,r(e,this,s)}}function o(e){var t=a(e)?k.call(e):"";return t==m||t==g}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==typeof e}function u(e){return"symbol"==typeof e||s(e)&&k.call(e)==y}function c(e){if(!e)return 0===e?e:0;if(e=d(e),e===f||e===-f){var t=0>e?-1:1;return t*h}return e===e?e:0}function l(e){var t=c(e),n=t%1;return t===t?n?t-n:t:0}function d(e){if("number"==typeof e)return e;if(u(e))return v;if(a(e)){var t=o(e.valueOf)?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(b,"");var n=_.test(e);return n||w.test(e)?T(e.slice(2),n?2:8):A.test(e)?v:+e}var p="Expected a function",f=1/0,h=1.7976931348623157e308,v=NaN,m="[object Function]",g="[object GeneratorFunction]",y="[object Symbol]",b=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,w=/^0o[0-7]+$/i,T=parseInt,S=Object.prototype,k=S.toString,E=Math.max;t.exports=i},{}],10:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(e,t){for(var n,i,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var l=0;l<i.length;l++)a.call(n,i[l])&&(s[i[l]]=n[i[l]])}}return s}},{}],11:[function(e,t,n){(function(r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof n?"undefined":i(n))&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,o.pioneer=e()}}(function(){return function t(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t?t:e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){(function(e){function n(e){var t=void 0;try{t=e.document}catch(n){}return!!t}function r(e,t){for(var n=t.document.getElementsByTagName(e.tagName),r=!1,i=0;i<n.length;++i)if(e===n[i]){r=!0;break}return r}function i(e,t,o,s){var u=n(e),c={window:e,accessible:u,width:-1,height:-1,referer:null,href:null};return t&&0>s&&(s=u&&r(t,e)?o.length:-1),u&&(c.referer=e.document.referrer,c.width=e.innerWidth,c.height=e.innerHeight,c.href=e.location.href),o.push(c),e===a?{stack:o,needle:s}:i(e.parent,t,o,s)}var o="undefined"!=typeof o?o.window:"undefined"!=typeof e?e.window:null,a=o.top;t.exports={report:function(e,t){var n=i(t,e,[],-1),r=n.stack.length-1,o=2147483647,a=2147483647,s=0;for(-1===n.needle&&(n.needle=0);r>=n.needle&&!n.stack[r].accessible;--r,s++);for(n.highest=r,n.depth=s,r=n.needle;r<=n.highest;++r)o=o>n.stack[r].width?n.stack[r].width:o,a=a>n.stack[r].height?n.stack[r].height:a;return n.minWidth=o,n.minHeight=a,n}}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){function r(){p&&l&&(p=!1,l.length?d=l.concat(d):f=-1,d.length&&i())}function i(){if(!p){var e=s(r);p=!0;for(var t=d.length;t;){for(l=d,d=[];++f<t;)l&&l[f].run();f=-1,t=d.length}l=null,p=!1,u(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u,c=t.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var l,d=[],p=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new o(e,t)),1!==d.length||p||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],13:[function(e,t,n){"use strict";var r=e(14);t.exports={getAdLinear:function(){return!!r.adLinear},getAdWidth:function(){return r.adWidth},getAdHeight:function(){return r.adHeight},getAdExpanded:function(){return!!r.adExpanded},getAdSkippableState:function(){return!!r.adSkippableState},getAdRemainingTime:function(){return r.adRemainingTime},getAdDuration:function(){return r.adDuration},getAdVolume:function(){return r.adMuted?0:r.adVolume},getAdCompanions:function(){return r.adCompanions},getAdIcons:function(){return!!r.adIcons}}},{14:14}],14:[function(e,t,n){"use strict";t.exports={_mediaFileIsVPAID:!1,_VPAIDProxyTarget:null,_started:!1,_isSkipping:!1,_skip:!1,_skipdelay:0,_stopped:!1,_error:[],adLinear:!0,adWidth:0,adHeight:0,adExpanded:!1,adSkippableState:!1,adRemainingTime:0,adDuration:0,adVolume:0,adMuted:!1,adCompanions:"",adIcons:!1,protocol:"https",adChoice:null}},{}],15:[function(e,t,n){"use strict";var r=e(14);t.exports={setAdVolume:function(e){e=e>1?1:e,e=0>e?0:e,r.adVolume=e,this.environmentVars.videoSlot.volume=r.adVolume}}},{14:14}],16:[function(e,t,n){(function(e){"use strict";var n="development"===e.env.NODE_ENVIRONMENT;t.exports=n}).call(this,e(12))},{12:12}],17:[function(e,t,n){t.exports="getVPAIDAd"},{}],18:[function(e,t,n){t.exports="com.rubiconproject.vpaid"},{}],19:[function(e,t,n){"use strict";t.exports={start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",skip:"skip",click:"click",creativeView:"creativeView",acceptInvitation:"acceptInvitation",acceptInvitationLinear:"acceptInvitationLinear",expand:"expand",collapse:"collapse",close:"close",closeLinear:"closeLinear",pause:"pause",resume:"resume",mute:"mute",unmute:"unmute",error:"error"}},{}],20:[function(e,t,n){"use strict";t.exports={play:"play",pause:"pause",volumeChange:"volumechange",timeUpdate:"timeupdate",resize:"resize",loadStart:"loadstart",progress:"progress",suspend:"suspend",abort:"abort",error:"error",emptied:"emptied",stalled:"stalled",loadedMetadata:"loadedmetadata",loadedData:"loadeddata",canPlay:"canplay",canPlayThrough:"canplaythrough",playing:"playing",waiting:"waiting",seeking:"seeking",seeked:"seeked",ended:"ended",durationChange:"durationchange",rateChange:"ratechange"}},{}],21:[function(e,t,n){"use strict";t.exports={loaded:"AdLoaded",started:"AdStarted",stopped:"AdStopped",skipped:"AdSkipped",skippableStateChange:"AdSkippableStateChange",sizeChange:"AdSizeChange",linearChange:"AdLinearChange",durationChange:"AdDurationChange",expandedChange:"AdExpandedChange",remainingTimeChange:"AdRemainingTimeChange",volumeChange:"AdVolumeChange",impression:"AdImpression",videoStart:"AdVideoStart",videoFirstQuartile:"AdVideoFirstQuartile",videoMidpoint:"AdVideoMidpoint",videoThirdQuartile:"AdVideoThirdQuartile",videoComplete:"AdVideoComplete",clickThru:"AdClickThru",interaction:"AdInteraction",userAcceptInvitation:"AdUserAcceptInvitation",userAcceptInvitationLinear:"AdUserAcceptInvitationLinear",userMinimize:"AdUserMinimize",userClose:"AdUserClose",userCloseLinear:"AdUserCloseLinear",paused:"AdPaused",playing:"AdPlaying",log:"AdLog",_error:"@@__private:__internal_error__@@",error:"AdError"}},{}],22:[function(e,t,n){"use strict";t.exports=[]},{}],23:[function(e,t,n){"use strict";t.exports=[]},{}],24:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof n?n.window:"undefined"!=typeof t?t.window:null,r=e(17),i=e(18),o=e(25),a="undefined"!=typeof n?n.VAST_VMAP_XHROptions:"undefined"!=typeof t?t.VAST_VMAP_XHROptions:null;a.onBeforeSend=function(e,t,n){
var r=[/^.*sneezy.*$/];try{console.log([i,": XHR - ",e].join(""))}catch(o){}var a=0;if("tracking-pixel"!==t){for(;a<r.length;++a)if(e.match(r[a]))return;n.withCredentials=!0}},a.defaultVASTAbortLimit=4,n[r]=function(){return new o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,18:18,25:25}],25:[function(e,t,n){(function(n){"use strict";function r(){}function i(){C.emit(P.volumeChange)}function o(){C.emit(P.sizeChange)}function a(){C.emit(P.paused)}function s(){C.emit(P.playing)}function u(e,t){if(null!==e&&void 0!==e&&!e.hasSentError()){e.errorSent(),void 0===t&&(t="900");for(var n=0;n<e.errors.length;n++)e.errors[n]=e.errors[n].replace(/\[ERRORCODE\]/i,t),B({url:e.errors[n]})}}function c(e,t,n,r,i){return"x"===t?"left"===e?"left:0px;":"right"===e?"left:"+(parseInt(n,10)-parseInt(i.width,10))+"px;":"left:"+e+"px;":"y"===t?"top"===e?"top:0px;":"bottom"===e?"bottom:0px;":"top:"+e+"px;":void 0}function l(e){try{var t=this.adParameters.stats_base_url,n=e.join("/"),r=t+n;z&&(r+="/"+z),B({url:r})}catch(i){}}function d(e,t){r.prototype[t]=function(){var n=this,r=Array.prototype.slice.call(arguments);D.log.apply(D,["["+(new Date).valueOf()+"] #"+t+"(): "].concat(r));try{return V._VPAIDProxyTarget?V._VPAIDProxyTarget[t].apply(V._VPAIDProxyTarget,r):e.apply(this,r)}catch(i){setTimeout(function(){throw setTimeout(function(){V._error.push(i.toString()),n.stopAd()},0),i},0)}};try{Object.defineProperty&&"function"==typeof Object.defineProperty&&Object.defineProperty(r.prototype[t],"name",{value:t})}catch(n){}}function p(){var e=navigator.userAgent||navigator.vendor||T.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!T.MSStream?"iOS":"unknown"}function f(){var e=this.environmentVars,t=e.videoSlot,n=h(this,"btnPlay.png:btnPause.png"),r=this.environmentVars.slot.parentNode||this.environmentVars.slot,i=this;D.log("SETUP CONTROLS"),D.log("IS IT MOBILE ?",K);var o=[n];if(D.log(this.adParameters),1===this.adParameters.k_close){var a=h(this,"btnClose.png");this.jwplayer_is_stupid=!0,this.subscribe(function(){i.jwplayer_is_stupid=!1},P.videoComplete,null),a.addEventListener("click",function(e){i.jwplayer_is_stupid&&V.linearAd&&V.linearAd.tracking&&V.linearAd.tracking.events&&V.linearAd.tracking.events[j.complete]&&(V.linearAd.tracking.events[j.complete]=[]),C.emit(P.userClose),C.emit(P.userCloseLinear),i.stopAd()},!1),o.push(a)}if(0===this.adParameters.k_audio){var s=h(this,"btnSoundsOff.png:btnSoundsOn.png");o.push(s),t.addEventListener(I.volumeChange,function(e){0===i.getAdVolume()?v(s,"btnSoundsOff.png"):v(s,"btnSoundsOn.png")},!1),s.addEventListener("click",function(e){D.log("Volume button clicked"),D.log(t.volume),D.log(i.getAdVolume()),D.log("videoSlot.muted",t.muted),t.muted||0===t.volume?(i.setAdVolume(1),t.muted=!1):(i.setAdVolume(0),t.muted=!0)},!1)}var u=function(e){for(var n=0;n<o.length;++n)for(var r=o[n],a=r.childNodes,s=0;s<a.length;++s)a[s].style.visibility="visible";1===i.adParameters.k_audio&&(i.setAdVolume(1),t.muted&&(t.muted=!1))},c=function(e){for(var n=0;n<o.length;++n)for(var r=o[n],a=r.childNodes,s=0;s<a.length;++s)a[s].style.visibility="hidden";1===i.adParameters.k_audio&&(i.setAdVolume(0),t.muted||(t.muted=!0))};K?(D.log("Its MOBILE"),u()):(r.addEventListener("mouseover",u,!1),r.addEventListener("mouseout",c,!1)),t.addEventListener(I.play,function(e){v(n,"btnPause.png")},!1),t.addEventListener(I.pause,function(e){v(n,"btnPlay.png")},!1),n.addEventListener("click",function(e){t.paused?setTimeout(function(){i.resumeAd()},0):setTimeout(function(){i.pauseAd()},0)},!1),0===this.adParameters.k_audio&&v(s,"btnSoundsOff.png"),D.log("Setting ad Volume"),i.setAdVolume(0),t.paused?v(n,"btnPlay.png"):v(n,"btnPause.png")}function h(e,t){for(var n="com_rubiconproject_video_vpaid_control_",r=S.createElement("div"),i=S.createElement("img"),o=S.createElement("img"),a=t.split(":"),s=0;s<a.length;++s)a[s]=K?a[s].replace(/\.png/,"@2x.png"):a[s];var u=V.protocol+e.adParameters.assets_url;(e.environmentVars.slot.parentNode||e.environmentVars.slot).appendChild(r),i.setAttribute("src",u+a[0]),i.setAttribute("id",n+a[0].replace(/\./g,"_")),r.appendChild(i),a[1]&&(o.setAttribute("src",u+a[1]),o.setAttribute("id",n+a[1].replace(/\./g,"_")),r.appendChild(o));var c=["position:absolute;","visibility:hidden;","cursor:pointer;"].join("");return"btnPlay.png"===a[0]?c+="left:10px;":"btnSoundsOff.png"===a[0]&&(c+="left:50px;"),c+="btnClose.png"===a[0]?"top: 5px;right:5px;":"bottom: 10px;","btnPlay@2x.png"===a[0]?c+="left:10px;bottom:10px;":"btnSoundsOff@2x.png"===a[0]&&(c+="left:85px;bottom:10px;"),"btnClose@2x.png"===a[0]&&(c+="top: 5px;right:5px;"),r.setAttribute("style",c),r}function v(e,t){var n="com_rubiconproject_video_vpaid_control_";t=n+t.replace(/\./g,"_"),t=K?t.replace(/_png/,"@2x_png"):t,D.log(t,r);for(var r=e.childNodes,i=0;i<r.length;i++)r[i].id===t?r[i].style.display="":r[i].style.display="none"}function m(e,t,n,r){var i=S.createElement("iframe");if(i.style.display="block",i.style.width=4*parseInt(e,10)+"px",i.style.height=2*parseInt(t,10)+"px",i.style.border="0px",i.style.margin="0px",i.style.overflow="hidden",i.scrolling="no",void 0===n)return i;n.appendChild(i);var o=i.contentWindow||i.contentDocument.document||i.contentDocument;return o.document.open(),o.document.write(r),o.document.close(),i}function g(e){var t=V.adChoice;if(null!=t&&t.type){var n,r,i,o=S.createElement("div"),a=S.createElement("img"),s=e;(e.environmentVars.slot.parentNode||e.environmentVars.slot).appendChild(o),t.staticResource&&null!=t.staticResource?t.type&&t.type.search("javascript")>-1?(r='<script type="text/javascript" src="'+t.staticResource+'">',i=m(t.width,t.height,o,r),n=i.contentWindow.document):t.type&&t.type.search("image")>-1&&(a.setAttribute("src",t.staticResource),a.setAttribute("width",t.width),a.setAttribute("height",t.height),a.setAttribute("id","adchoice-icon"),o.appendChild(a),n=o):t.htmlResource&&null!=t.htmlResource?(r='<!DOCTYPE html><head></head><body style="margin:0px">'+t.htmlResource+"</body></html>",i=m(t.width,t.height,o,r),n=i.contentWindow.document):t.iframeResource&&null!=t.iframeResource&&(i=m(t.width,t.height),i.src=t.iframeResource,o.appendChild(i),n=o);var u=t.width,l=t.height;i&&""!==i&&(u=4*parseInt(u,10),l=2*parseInt(l,10));var d=V.adWidth,p=V.adHeight,f=["position:absolute;","visibility:hidden;","cursor:pointer;","overflow:visible;","width:"+u+"px;","height:"+l+"px;",c(t.yPosition,"y",d,p,t),c(t.xPosition,"x",d,p,t)+";"].join("");o.setAttribute("style",f),n.addEventListener("click",function(e){if(s.pauseAd(),t.iconClickTrackingURLTemplates&&t.iconClickTrackingURLTemplates.length>=0)for(var n=0;n<t.iconClickTrackingURLTemplates.length;n++)B({url:t.iconClickTrackingURLTemplates[n]});T.open(t.iconClickThroughURLTemplate,"_blank")});var h=0;t.offset&&t.offset>0&&(h=1e3*parseInt(t.offset,10)),setTimeout(function(){if(o.style.visibility="visible",t.iconViewTrackingURLTemplate&&B({url:t.iconViewTrackingURLTemplate}),t.duration&&t.duration>0){var e=1e3*parseInt(t.duration,10);setTimeout(function(){o.style.visibility="hidden"},e)}},h)}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},b="undefined"!=typeof T?T.queryVAST:"undefined"!=typeof n?n.queryVAST:null,A=e(8),_=e(7),w=e(10),T="undefined"!=typeof T?T.window:"undefined"!=typeof n?n.window:null,S="undefined"!=typeof T?T.document:"undefined"!=typeof n?n.document:null,k="undefined"!=typeof T?T.__IASVANS:"undefined"!=typeof n?n.__IASVANS:null,E=new k,V=e(14),x=e(22),C=e(28),P=e(21),j=e(19),I=e(20),L=e(13),O=e(15),N=e(29),M=e(32),R=e(26),q=e(31),F=e(23),B=e(30),U=e(11),D=e(27),H=!1,W=!1,z=!1,X=function(){},$=void 0,Q=function(){},G=function(){},Y=p(),K="unknown"!==Y,J={};w(J,L),w(J,O),J.handshakeVersion=function(e){return"2.0"},J.subscribe=function(e,t,n){for(var r=0;r<x.length;++r)if(x[r].event===t&&x[r].key===e)return void D.log("Listener was already subscribed !");x.push({event:t,key:e,value:_(e,n)}),C.on(t,x[x.length-1].value)},J.unsubscribe=function(e,t){for(var n=0;n<x.length&&(x[n].event!==t||x[n].key!==e);++n);x[n]&&C.removeListener(t,x[n].value)},J.initAd=function(e,t,n,r,i,o){var a=this;V.desiredBitrate=r,V.viewMode=n,this.creativeData=i,this.adParameters=JSON.parse(i.AdParameters),this.adParameters&&this.adParameters.query_parameters&&l.call(this,["bridge-loaded","js",this.adParameters.query_parameters.account_id,this.adParameters.query_parameters.site_id,this.adParameters.query_parameters.zone_id,this.adParameters.query_parameters.size_id]);var s=this.adParameters.sampling&&this.adParameters.sampling.ias&&this.adParameters.sampling.ias.sample_rate||0;Math.random()<=s&&(H=!0),this.environmentVars=o,this.environmentVars.videoSlot=this.environmentVars.videoSlot||function(){var e=S.createElement("video");return(o.slot.parentNode||o.slot).appendChild(e),e}(),V.adMuted=this.environmentVars.videoSlot.muted,V.adVolume=this.environmentVars.videoSlot.volume,this.resizeAd(e,t,n);var c=U.report(this.environmentVars.videoSlot,T);V.report=c;var d=void 0;try{d=c.stack[c.needle].window.getComputedStyle(this.environmentVars.videoSlot)}catch(p){}d||(d={width:e,height:t});var f=V.adWidth,h=V.adHeight;if(void 0!==this.environmentVars)try{f=this.environmentVars.videoSlot.getAttribute("width"),h=this.environmentVars.videoSlot.getAttribute("height")}catch(p){D.log(p.toString())}var v={depth:c.depth,minWidth:c.minWidth,minHeight:c.minHeight,url:c.stack[c.highest].href,referrer:c.stack[c.highest].referer,playerWidth:parseInt(d.width||f,10),playerHeight:parseInt(d.height||h,10),adWidth:V.adWidth,adHeight:V.adHeight};D.log("__ENVIRONMENT_ATTRIBUTES__",v);var m=/^https/.test(c.stack[c.needle].href)?"https":"http";V.protocol=m;var g=this.adParameters&&[m,"://",this.adParameters.host,this.adParameters.path,"?"].join(""),_={},w="",k="";null!==this.adParameters.query_parameters&&(A(this.adParameters.query_parameters,function(e,t){_[t]=e}),w=_.rf||w,k=w,V._skip=!!this.adParameters.query_parameters["p_aso.video.ext.skip"],V._skipdelay=this.adParameters.query_parameters["p_aso.video.ext.skipdelay"],C.emit(P.skippableStateChange)),_["p_window.depth"]=c.depth,_.rf=encodeURIComponent(w||c.stack[c.highest].href),_["p_window.url"]=encodeURIComponent(c.stack[c.highest].referer),_.rf=c.depth?_["p_window.url"]:_.rf,_.rf=k||_.rf,_["p_window.w"]=c.minWidth,_["p_window.h"]=c.minHeight,_["p_aso.video.ext.ad.w"]=V.adWidth,_["p_aso.video.ext.ad.h"]=V.adHeight,_.width=_.width||v.playerWidth,_.height=_.height||v.playerHeight,_["p_aso.video.api"]="2",_["p_aso.video.mimes"]="application/javascript,video/mp4";var x=[],j={};A(_,function(e,t){x.push(""+t+"="+e),j[t]=e});var I=this;g+=x.join("&");var L=C.emit;C.emit=function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=this.adParameters&&this.adParameters.apex,r={ad_duration:V.adDuration||0,ad_dimensions:[V.adWidth,V.adHeight].join("x"),player_dimensions:[this.environmentVars.videoSlot.width||0,this.environmentVars.videoSlot.height||0].join("x"),ad_offset_left:0,ad_offset_right:0,volume:V.adVolume},i=t;switch(t){case P.remainingTimeChange:r.adRemainingTime=V.adRemainingTime;break;case P.linearChange:r.adLinear=V.adLinear;break;case P.expandedChange:r.adExpanded=V.adExpanded;break;case P.clickThru:r.url=e[1],r.id=e[2],r.playerHandles=!!e[3];break;case P.error:r.message=e[1];break;case P.sizeChange:r.viewMode=V.viewMode,r.height=V.height,r.width=V.width,i="resizeAd";break;case P.impression:this.adParameters&&this.adParameters.query_parameters&&l.call(this,["ias_sample",this.adParameters.query_parameters.account_id,this.adParameters.query_parameters.site_id,this.adParameters.query_parameters.zone_id,this.adParameters.query_parameters.size_id])}try{D.log("integral.sendEvent()",i,r),E.sendEvent(i,r)}catch(o){D.log("integral.sendEvent() error:",o.toString())}var a=this.jwplayer_is_stupid;return t===P.stopped||t===P.error?setTimeout(function(){t===P.stopped&&null!==n&&void 0!==n&&a&&C.constructor.prototype.emit.call(C,P.videoComplete),L.apply(C,e)},400):L.apply(C,e)}.bind(this),b(g,function(e){var t=!1,n=void 0;try{var r,i,o,s,l=function(){n=e.getAd();var l=n&&n.linear,d=l.clickThrough,p=l.mediaFiles;if(!l)return{v:setTimeout(function(){throw setTimeout(function(){u(n,"401"),C.emit(P.error,"Unimplemented non-linear ad.")},0),new Error("Unimplemented non-linear ad.")},0)};if(l.icons&&l.icons.length>0)for(r=0;r<l.icons.length;r++)if(l.icons[r]&&l.icons[r].program&&"adchoices"===l.icons[r].program.toLowerCase()&&l.icons[r].height>0&&l.icons[r].width>0){V.adChoice=l.icons[r];break}V.adObj=n,n.extensions&&n.extensions.length&&(z=n.extensions[0].impressionId||!1),H&&!W&&(j.partner=I.adParameters.sampling.ias.partner,j.anId=I.adParameters.sampling.ias.anId,j.adsafe_par="",z&&(j.impId=z),E.initCM(j,I.environmentVars.videoSlot),W=!0),V.linearAd=l,R(a,l.tracking),t=!0;var f=N(p,V,a.environmentVars.videoSlot);"VPAID"===f.apiFramework?(V._mediaFileIsVPAID=!0,q(a,f,n),D.log("mediaFile.apiFramework"),null!==a.adParameters.apex&&void 0!==a.adParameters.apex&&(i=a.startAd,a.startAd=function(){var e=c.stack[c.needle].window,t=this;e.com=e.com||{},e.com.rubiconproject=e.com.rubiconproject||{},e.com.rubiconproject.video=e.com.rubiconproject.video||{},e.com.rubiconproject.video.apex=e.com.rubiconproject.video.apex||{},e.com.rubiconproject.video.apex.loaders=e.com.rubiconproject.video.apex.loaders||[],e.com.rubiconproject.video.apex.loaders[this.adParameters.apex]=function(){return t.startAd=i,i.call(t)},C.constructor.prototype.emit.call(C,P.started),D.log('# KIND OF IMPORTANT: "Fake" fired the adStarted Event for APEX/jwplayer.')})):($=function(){C.emit(P.clickThru,d,"",!0),a.pauseAd()},o=c.stack[c.needle].window,s=o.com||{},s.rubiconproject=s.rubiconproject||{},s.rubiconproject.video=s.rubiconproject.video||{},s.rubiconproject.video.apex=s.rubiconproject.video.apex||{},s.rubiconproject.video.apex.adClicks=s.rubiconproject.video.apex.adClicks||[],l.tracking=l.tracking||{},l.tracking.events=l.tracking.events||{},l.tracking.events.click=l.tracking.events.click||[],s.rubiconproject.video.apex.adClicks[a.adParameters.apex]&&l.tracking.events.click.push({event:"click",offset:null,url:s.rubiconproject.video.apex.adClicks[a.adParameters.apex]}),a.environmentVars.slot.addEventListener("click",$,!1),a.environmentVars.slot.style.cursor="pointer",a.environmentVars.videoSlot.src=f.src,V.adDuration=a.environmentVars.videoSlot.duration,V.adRemainingTime=a.environmentVars.videoSlot.duration-a.environmentVars.videoSlot.currentTime,C.emit(P.loaded))}();if("object"===("undefined"==typeof l?"undefined":y(l)))return l.v}catch(d){u(n,"403"),t?C.emit(P._error,d&&d.toString()):(V._error.push(d),a.stopAd())}},function(e,t){var n="303";e&&void 0!==e&&e.errorCode&&void 0!==e.errorCode&&(n=e.errorCode),u(t,n),V._error.push(e),a.stopAd()})},J.resizeAd=function(e,t,n){V.adWidth=e,V.adHeight=t,V.viewMode=n,"fullscreen"===n&&(V.adWidth=T.innerWidth,V.adHeight=T.innerHeight);try{this.environmentVars.videoSlot.setAttribute("height",V.adHeight),this.environmentVars.videoSlot.setAttribute("width",V.adWidth),this.environmentVars.videoSlot.style.height=V.adHeight+"px",this.environmentVars.videoSlot.style.width=V.adWidth+"px"}catch(r){C.emit(P.log,r.toString())}},J.startAd=function(){var e=this,t=this.environmentVars.videoSlot,n=function r(){if(t.removeEventListener(I.play,r),null!==e.adParameters.apex&&void 0!==e.adParameters.apex||(t.addEventListener(I.play,s,!1),t.addEventListener(I.pause,a,!1),t.addEventListener(I.resize,o,!1),t.addEventListener(I.volumeChange,function(e){V.adVolume!==t.volume&&(V.adVolume=t.volume),V.adMuted!==t.muted&&(V.adMuted=t.muted),i()},!1),Q=_(function(){V.adDuration=t.duration,V.adRemainingTime=t.duration-t.currentTime,M(t.currentTime,t.duration),V._skip&&t.currentTime>=V._skipdelay&&(V._skip=!1,V.adSkippableState=!0,C.emit(P.skippableStateChange))},e),G=_(function(){C.emit(P.error,"Video ad content error (404)"),u(V.adObj,"401")},e),t.addEventListener(I.error,G,!1),t.addEventListener(I.timeUpdate,Q,!1)),X=_(function(){this.stopAd()},e),t.addEventListener(I.ended,X,!1),V._started=!0,C.emit(P.started),g(e),null!==e.adParameters.apex&&void 0!==e.adParameters.apex){var n=V.report.stack[V.report.needle].window;n.com=n.com||{},n.com.rubiconproject=n.com.rubiconproject||{},n.com.rubiconproject.video=n.com.rubiconproject.video||{},n.com.rubiconproject.video.apex=n.com.rubiconproject.video.apex||{};var c=n.com.rubiconproject.video.apex;c.loaders=c.loaders||[];var d=c.loaders,p=e,h=function v(){t.removeEventListener(I.play,v,!1),t.addEventListener(I.play,s,!1),t.addEventListener(I.pause,a,!1),t.addEventListener(I.resize,o,!1),t.addEventListener(I.volumeChange,function(e){V.adVolume!==t.volume&&(V.adVolume=t.volume),V.adMuted!==t.muted&&(V.adMuted=t.muted),i()},!1),f.call(p),Q=_(function(){V.adDuration=t.duration,V.adRemainingTime=t.duration-t.currentTime,M(t.currentTime,t.duration),V._skip&&t.currentTime>=V._skipdelay&&(V._skip=!1,V.adSkippableState=!0,C.emit(P.skippableStateChange))},p),t.addEventListener(I.timeUpdate,Q,!1),G=_(function(){C.emit(P.error,"Video ad content error (404)"),u(V.adObj,"401")},p),t.addEventListener(I.error,G,!1),C.emit(P.impression),p.adParameters&&p.adParameters.query_parameters&&l.call(p,["vpaid_impression",p.adParameters.query_parameters.account_id,p.adParameters.query_parameters.site_id,p.adParameters.query_parameters.zone_id,p.adParameters.query_parameters.size_id])};return t.addEventListener(I.play,h,!1),void setTimeout(function(){t.pause(),d[p.adParameters.apex]=function(){setTimeout(function(){t.play()},0)}},250)}C.emit(P.impression),e.adParameters&&e.adParameters.query_parameters&&l.call(e,["vpaid_impression",e.adParameters.query_parameters.account_id,e.adParameters.query_parameters.site_id,e.adParameters.query_parameters.zone_id,e.adParameters.query_parameters.size_id])};V._mediaFileIsVPAID||(t.addEventListener(I.play,n,!1),setTimeout(function(){t.play()},0))},J.stopAd=function(){function e(){var t=!F.length,n=0;try{for(;n<F.length&&(t=F[n],D.log("pixelsArray-"+n,t),t);++n);t?(C.emit(V._error.length?P.error:V._isSkipping?P.skipped:P.stopped,V._error[0]?V._error[0].toString():void 0),V._isSkipping&&C.emit(P.stopped)):setTimeout(e,75)}catch(r){C.emit(P.error,r.toString())}}var t=this.environmentVars.videoSlot,n=this.environmentVars.slot;try{V._stopped=!0,n.removeEventListener("click",$||function(){}),t.removeEventListener(I.play,s),t.removeEventListener(I.pause,a),t.removeEventListener(I.resize,o),t.removeEventListener(I.volumeChange,i,!1),t.removeEventListener(I.timeUpdate,Q),t.removeEventListener(I.error,G),t.removeEventListener(I.ended,X),t.ended||t.paused||!function(){var e=F.length,n=!1;try{F[e]=n,t.addEventListener(I.pause,function i(){try{t.removeEventListener(I.pause,i),F[e]=!n}catch(r){C.emit(P.error,r.toString())}},!1),V._stopped||t.pause()}catch(r){C.emit(P.error,r.toString())}}(),e()}catch(r){C.emit(P.error,r.toString())}},J.pauseAd=function(){this.environmentVars.videoSlot.pause()},J.resumeAd=function(){this.environmentVars.videoSlot.play()},J.expandAd=function(){C.emit(P.expandedChange)},J.collapseAd=function(){C.emit(P.expandedChange)},J.skipAd=function(){!V._stopped&&V.adSkippableState&&(V._isSkipping=!0,this.stopAd())},A(J,function(e,t){d(e,t)}),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,13:13,14:14,15:15,19:19,20:20,21:21,22:22,23:23,26:26,27:27,28:28,29:29,30:30,31:31,32:32,7:7,8:8}],26:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(){a(t.events[e],l)}}var o,a=e(8),s=e(21),u=e(14),c=e(19),l=e(30),d=(o={},r(o,s.videoStart,c.start),r(o,s.videoFirstQuartile,c.firstQuartile),r(o,s.videoMidpoint,c.midpoint),r(o,s.videoThirdQuartile,c.thirdQuartile),r(o,s.videoComplete,c.complete),r(o,s.skipped,c.skip),r(o,s.started,c.creativeView),r(o,s.userAcceptInvitation,c.acceptInvitation),r(o,s.userAcceptInvitationLinear,c.acceptInvitationLinear),r(o,s.userMinimize,c.collapse),r(o,s.userClose,c.close),r(o,s.userCloseLinear,c.closeLinear),r(o,s.paused,c.pause),r(o,s.playing,c.resume),r(o,s.clickThru,c.click),o);t.exports=function(e,t){e.subscribe(function(){var n=t.ad;if(null!==n&&!n.hasSentError()){n.errorSent();for(var r=0;r<n.errors.length;r++){if(u._error&&u._error.length>0){var i="900";void 0!==u._error[0]&&""!==u._error[0]&&(i=u._error[0]),n.errors[r]=n.errors[r].replace(/\[ERRORCODE\]/i,i)}l({url:n.errors[r]})}}u._error.push(arguments[0]),e.stopAd()},s._error),a(d,function(n,r){var o=new i(n,t);e.subscribe(o,r)}),e.subscribe(function(){var e=t.ad;if(null!==e&&!e.hasSentImpression()){e.impressionSent();for(var n=0;n<e.impressions.length;n++)l({url:e.impressions[n]})}},s.impression),e.subscribe(function(){var n=0===e.getAdVolume()?c.mute:c.unmute;a(t.events[n],l)},s.volumeChange),e.subscribe(function(){var n=e.getAdExpanded()?c.expand:c.collapse;a(t.events[n],l)},s.expandedChange)}},{14:14,19:19,21:21,30:30,8:8}],27:[function(e,t,n){"use strict";var r=e(16),i=e(8);i({log:console.log,info:console.info,warn:console.warn,error:console.error},function(e,t){n[t]=function(){var t=Array.prototype.slice.call(arguments);return r?e.apply(console,t):void 0}})},{16:16,8:8}],28:[function(e,t,n){"use strict";var r=e(1).EventEmitter,i=e(27);t.exports=new r,t.exports.emit=function(){var e=Array.prototype.slice.call(arguments);return i.log.apply(i,["["+(new Date).valueOf()+"] Emitter.#emit()"].concat(e)),r.prototype.emit.apply(this,e)}},{1:1,27:27}],29:[function(e,t,n){"use strict";function r(e,t,n){if(0===e.length)return null;var r=e.sort(function(e,r){var i=o[n.canPlayType(e.type)],a=o[n.canPlayType(r.type)],s=i-a;return 0!==s?s:t.desiredBitrate>0&&(i=Math.abs(e.bitrate-t.desiredBitrate),a=Math.abs(r.bitrate-t.desiredBitrate),s=i-a,0!==s)?s:(i=Math.pow(e.width-t.adWidth,2)+Math.pow(e.height-t.adHeight,2),a=Math.pow(r.width-t.adWidth,2)+Math.pow(r.height-t.adHeight,2),s=i-a)});return r[0]}var i="No playable MediaFile found!",o={probably:1,maybe:2,"":10},a={"application/javascript":1,"text/javascript":1};t.exports=function(e,t,n){for(var o=void 0,s=0,u=[],c=[];s<e.length;++s)o=e[s],"VPAID"===o.apiFramework&&a[o.type]?c.push(o):n.canPlayType(o.type)&&u.push(o);if(o=c.length?c[0]:r(u,t,n),!o)throw new Error(i);return o}},{}],30:[function(e,t,n){"use strict";var r=e(23),i=e(27);t.exports=function(e){function t(){i.log("Pixel fire success!: ",e.url),r[n]=!o}if(""!==e.url){var n=r.length,o=!1;r[n]=o;var a=Image&&new Image;a.onload=t,a.onerror=a.onabort=function(e){e&&setTimeout(function(){i.error("VAST event URL(Pixel fire) not found (404)")},0),t()},i.log("Firing a pixel: ",e.url),a.src=e.url}}},{23:23,27:27}],31:[function(e,t,n){(function(n){"use strict";function r(e,t){e.appendChild(t)}function i(e,t,n){n=n||u;var r=n.createElementNS?n.createElementNS("http://www.w3.org/1999/xhtml",e):n.createElement(e);return a(t,function(e,t){r.setAttribute(t,e)}),r}function o(){var e=void 0;try{e=s.parent.document}catch(t){e=s.document}return i("iframe",{width:"0px",height:"0px",scrolling:"no",frameborder:"0",marginwidth:"0",marginheight:"0",src:"about:blank",style:"margin:auto display:none;"},e)}var a=e(8),s="undefined"!=typeof s?s.window:"undefined"!=typeof n?n.window:null,u="undefined"!=typeof s?s.document:"undefined"!=typeof n?n.document:null,c=e(21),l=e(28),d=e(14);t.exports=function(e,t,n){(function(){var e=arguments,i=this,s=o();r(this.environmentVars.slot.parentNode||this.environmentVars.slot,s),s.contentWindow.document.open(),s.contentWindow.document.write(["<!doctype html>","<html>","<head>","</head>","<body>",'<script src="'+t.src+'">',"</script>","</body>","</html>"].join("\n")),s.contentWindow.document.addEventListener("DOMContentLoaded",function(){var t=s.contentWindow.getVPAIDAd();a([c.started,c.skippableStateChange,c.sizeChange,c.linearChange,c.durationChange,c.expandedChange,c.remainingTimeChange,c.volumeChange,c.impression,c.videoStart,c.videoFirstQuartile,c.videoMidpoint,c.videoThirdQuartile,c.videoComplete,c.interaction,c.userAcceptInvitation,c.userAcceptInvitationLinear,c.userMinimize,c.userClose,c.userCloseLinear,c.paused,c.playing,c.log],function(e,n){t.subscribe(function(){l.emit.apply(l,[e].concat(Array.prototype.slice.call(arguments)))},e)}),t.subscribe(function(t,r,i){i?(t=t||n&&n.linear&&n.linear.clickThrough,l.emit.apply(l,[c.clickThru].concat([t,r,!!i]))):l.emit.apply(l,[c.clickThru].concat(Array.prototype.slice.call(e)))},c.clickThru),t.subscribe(function(){try{s.parentNode.removeChild(s),s=null}catch(t){}d._error.push("303"),l.emit.apply(l,[c._error].concat(Array.prototype.slice.call(e)))},c.error),t.subscribe(function(){try{d._VPAIDProxyTarget=null,s.parentNode.removeChild(s),s=null,i.stopAd()}catch(e){setTimeout(function(){throw e})}},c.stopped),t.subscribe(function(){try{d._VPAIDProxyTarget=null,s.parentNode.removeChild(s),s=null,d.adSkippableState=!0,i.skipAd()}catch(e){setTimeout(function(){throw e})}},c.skipped),t.subscribe(function(){d._VPAIDProxyTarget=t,l.emit.apply(l,[c.loaded].concat(Array.prototype.slice.call(arguments)))},c.loaded),t.handshakeVersion(i.version);var r={};r.AdParameters=n&&n.linear&&n.linear.adParameters||"",t.initAd(d.adWidth,d.adHeight,d.viewMode,d.desiredBitrate,r,i.environmentVars)},!1),s.contentWindow.document.close()}).call(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,21:21,28:28,8:8}],32:[function(e,t,n){"use strict";var r=e(28),i=e(21),o=[{ev:i.videoComplete,pct:99},{ev:i.videoThirdQuartile,pct:75},{ev:i.videoMidpoint,pct:50},{ev:i.videoFirstQuartile,pct:25},{ev:i.videoStart,pct:0}];t.exports=function(e,t){var n=o[o.length-1];n&&100*e/t>=n.pct&&(r.emit(n.ev),o.pop())}},{21:21,28:28}]},{},[24]);